# Chapter 1: Installing React and Rails

## Rails new

We're going to start the installation process with the Rails side of our application.

Most are probably familiar with this process.  What you may not be aware of if you are venturing to use Rails 5 for the first time, is that we now have new generators available for bootstrapping API based applications.

The Rails side of our application is going to completely surrender the view layer to React.  So limiting the backend to an API interface alone will help us enforce this seperation.  Bootstrapping the application as an API will also leave out many of Rails componenet parts that manage the View layer, but leaving us with the Model and Controller framework we are familiar with.

If you're following along, and want to ensure matching version at the time of writting I am using:
* Ruby 2.3.1
* Rails 5.1.3

To create out application, enter the generator command:
`rails new [application name] --api` 

Or in my case:
`rails new reactive_api --api`

You'll need to be on Rails 5+ for the above *--api* flag to work correctly.  Using this flag removes a lot of overhead from our application we won't need in our API.

**Simplifies our asset pipeline, removing:**
* coffee-rails
* jquery-rails
* sass-rails 

The thought here is pretty clear.  We won't be passing anything more than JSON in our responses.  So there's no need for the JavaScript libraries CoffeeScript, or jQuery.  And similarly, the SASS processing of our CSS is now retired.  Note any of these tools might find their way into our client side application, but the need for them might be less prevalent as React generally has more powerful tools for managing state than jQuery offers.

And since React supports ES6 syntax the need for CoffeeScript is really a matter of preference.  My personal take is that the cleaned up syntax of ES6 is making the sytactic sugar supplied by CoffeeScript less and less of a draw.

And the need for SASS is less clear, as we may opt for storing our styles in the JavaScript syntax of our React components, greatly simplifying of application level CSS.

**Some other gems left behind:**
* uglifier - which handles the minification of our JavaScript assets.  We'll get minification as part of our webpack compiling when we run our React client in production.
* turbolinks - Which speeds pageloads in our rails applications by intelligently reloading on necesscary contents of our pages on route changes, simulating single page applications.  React will be inheritting this role.

You might also notice the absense of a few standard folders from our newly generated application

**Application folders MIA:**
* app/assets, vendor/assets, and lib/assets - No surpises here as we've ditched the asset pipeline.
* app/helpers - Gone with our view layey.  Keep in mind though that our *concerns* folders remain in *models/concerns* and *controllers/concerns* for similar shared logic in the Model or Controller layers.

And we've activated a few other convenience features:
* Our generators will now detect that our application is set with the flag `config.api_only = true` and will helpfully generate new application contents leaving the view layer behind accordingly.
* There is also mention of a commented out Gem rack-cors in our gemfile.  

Put simply rack-cors simplifies the authorization of cross-origin request scripts (CORS).  This is a necesscary step whenever your API application and the client opperate on different origins (domains, or sub-domains).  rack-cors helps you configure the bounds in which your API will allow cross-origin scripting, and handles the needed preflight requests accordingly.  It is a MASSIVELY helpful gem when you need to venture into the world of cross-origin requests.

For our purposes we'll be avoiding the subject of CORS entirely.  Instead we'll be using a request proxying strategy when our application runs in development modes.  Negating the needs for CORS.  Then in production modes we'll be configuring Webpack to compile its production assets into the `public/` directory of our rails application.  The rails "homepage" will become the single page of our single page application, again bypassing the need for CORS requests in production.  Handy, no?

